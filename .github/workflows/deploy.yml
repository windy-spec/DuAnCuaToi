name: ğŸš€ Deploy Static HTML to Somee

on:
  push:
    branches:
      - main
      - master # Tá»± Ä‘á»™ng cháº¡y khi báº¡n push code lÃªn nhÃ¡nh main hoáº·c master
  workflow_dispatch:
jobs:
  deploy:
    runs-on: ubuntu-latest

    steps:
      # ğŸ§© BÆ°á»›c 1: Láº¥y code tá»« GitHub vá»
      - name: Checkout source code
        uses: actions/checkout@v4

      # ğŸ§¹ BÆ°á»›c 2: (TÃ¹y chá»n) XÃ³a file thá»«a trong thÆ° má»¥c lÃ m viá»‡c local
      # GiÃºp trÃ¡nh upload cÃ¡c file GitHub Actions hoáº·c file há»‡ thá»‘ng
      - name: Clean unnecessary files
        run: |
          rm -rf .git .github README.md

      # ğŸš€ BÆ°á»›c 3: Deploy lÃªn Somee báº±ng FTP
      - name: Deploy to Somee via FTP
        uses: SamKirkland/FTP-Deploy-Action@4.3.3
        with:
          server: ftps://${{ secrets.FTP_SERVER }} # DÃ¹ng FTPS cho Somee
          username: ${{ secrets.FTP_USERNAME }} # LÆ°u trong GitHub Secrets
          password: ${{ secrets.FTP_PASSWORD }}

          # ğŸ“‚ ThÆ° má»¥c trÃªn mÃ¡y chá»§ (Somee yÃªu cáº§u /wwwroot/)
          server-dir: /wwwroot/

          # ğŸ“ ThÆ° má»¥c local cáº§n upload (./ nghÄ©a lÃ  toÃ n bá»™ project)
          local-dir: ./

          # âš™ï¸ Cáº¥u hÃ¬nh thÃªm
          dangerous-clean-slate: false # KHÃ”NG xÃ³a toÃ n bá»™ Ä‘á»ƒ trÃ¡nh lá»—i quyá»n
          dry-run: false # Äáº·t true náº¿u muá»‘n test trÆ°á»›c khi upload
          log-level: verbose # Hiá»ƒn thá»‹ chi tiáº¿t log
